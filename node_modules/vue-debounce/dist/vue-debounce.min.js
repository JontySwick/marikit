!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).vueDebounce=n()}(this,function(){"use strict";function d(t,e){function n(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];clearTimeout(o),(o=setTimeout(function(){o=null,t.apply(void 0,e)},i))||t.apply(void 0,e)}var o=null,i="number"==typeof e?e:function(e){var n=String(e).split(/(ms|s)/i),t=n[0],o=n[1];return void 0===o&&(o="ms"),Number(t)*{ms:1,s:1e3}[o]}(e);return n.cancel=function(){clearTimeout(o),o=null},n}return{name:"debounce",install:function(e,n){void 0===n&&(n={});var a=n.lock,f=n.listenTo;void 0===f&&(f="keyup");var l=n.defaultTime;void 0===l&&(l="300ms"),e.directive("debounce",{bind:function(n,e){var i=e.value,t=e.arg,u=e.modifiers,o=function(e,n){var t=(e.getNamedItem("debounce-events")||{}).value;function o(e){return e.map(function(e){return e.toLowerCase()})}return void 0===t&&(t=!1),t?o(t.split(",")):Array.isArray(n)?o(n):[n]}(n.attributes,f),r=d(function(e){i(e.value)},t||l);function c(e){var n=e.key,t=e.target,o=!u.lock&&!a||u.unlock;"Enter"===n&&o&&(r.cancel(),i(t.value)),"Enter"!==n&&r(t)}o.forEach(function(e){n.addEventListener(e,c)})}})}}});
